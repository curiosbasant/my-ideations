import * as fs from "fs";
import * as path from "path";
import { EasyOCR } from "node-easyocr";

const ocr = new EasyOCR();

async function main() {
  // Example usage:
  // const directoryPath = path.join(process.cwd(), "sd-captchas");
  // const files = await readAllFilesInDirectory(directoryPath);

  await ocr.init(["en"]);
  // const result2 = await Promise.allSettled(
  //   files.map((file) =>
  //     ocr
  //       .readText(path.join(directoryPath, file))
  //       .then((result) =>
  //         result.reduce(
  //           (str, item) => str + `${item.text.trim()} (${item.confidence})\n`,
  //           file + " => ",
  //         ),
  //       )
  //       .catch((error) => {
  //         console.log(error.message);
  //         return `${file}: ${error.message}`;
  //       }),
  //   ),
  // );
  for (const file of [
    "data:image/png;base64,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",
  ]) {
    // console.log(`Processing image: ${file}`);
    console.time("OCR Process");
    const [result] = await ocr.readText(
      Buffer.from(file.replace(/^data:image\/\w+;base64,/, ""), "base64"),
    );
    console.timeEnd("OCR Process");

    console.log("OCR Result:");
    console.log(`  Text: ${result.text}`);
    console.log(`  Confidence: ${(result.confidence * 100).toFixed(2)}%`);
    console.log(`  Bounding Box: ${JSON.stringify(result.bbox)}`);
    console.log("---");
  }
  // console.log({ result, result2 });
  await ocr.close();
}
main();

// page();
// Read all files in a directory asynchronously
async function readAllFilesInDirectory(dirPath: string) {
  const files = await fs.promises.readdir(dirPath);
  // for (const file of files) {
  //   const filePath = path.join(dirPath, file);
  //   const stat = await fs.promises.stat(filePath);
  //   if (stat.isFile()) {
  //     console.log("File:", file, filePath);
  //     // You can read file content here if needed
  //     // const content = await fs.promises.readFile(filePath);
  //   }
  // }
  return files;
}
